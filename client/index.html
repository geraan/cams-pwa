<header class="fixed">
    <i class="bell-btn {bell_hidden}"></i>
</header>

<main><ul class="nav"></ul></main>

<script src="/js/base.js"></script>
<script src="/js/bell.js"></script>
<script>
    const appendRow = (key, val, kind) => {
        let li = document.createElement('li');
        let span = document.createElement('span');
        let i = document.createElement('i');
        span.innerHTML = val.name;
        if (val.bell) {
            i.innerHTML = val.bell;
        }
        li.classList.add(kind);
        li.append(span);
        li.append(i);
        li.dataset.hash = key;
        document.querySelector('ul').append(li);
        li.onclick = e => {
            li.classList.add('blink');
            document.location.href = `/?page=${kind}&hash=${key}`;
        }
    }
    for (const [key, val] of Object.entries({cams})) {
        appendRow(key, val, 'cam');
    }
    for (const [key, val] of Object.entries({groups})) {
        appendRow(key, val, 'group');
    }
    Bell.run();
    sessionStorage.removeItem('group_hash');
</script>
